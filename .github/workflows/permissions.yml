name: üîê Configuraci√≥n de Permisos

# Este archivo define los permisos necesarios para los workflows de GitHub Actions
# Los permisos se aplicar√°n autom√°ticamente a todos los workflows del repositorio

permissions:
  # Permisos para el contenido del repositorio
  contents: write          # Permite leer y escribir archivos del repositorio
  
  # Permisos para issues y pull requests  
  issues: write           # Permite crear y modificar issues
  pull-requests: write    # Permite crear y modificar pull requests
  
  # Permisos para GitHub Actions
  actions: write          # Permite ejecutar y gestionar workflows
  
  # Permisos para GitHub Pages (si se habilita en el futuro)
  pages: write           # Permite desplegar a GitHub Pages
  id-token: write        # Necesario para despliegue en Pages
  
  # Permisos adicionales para seguridad y metadatos
  security-events: write  # Para an√°lisis de seguridad
  metadata: read         # Para leer metadatos del repositorio
  
  # Permisos para paquetes (si se publican en el futuro)
  packages: write        # Para publicar paquetes

on:
  workflow_dispatch:  # Permite ejecuci√≥n manual

jobs:
  configurar_permisos:
    runs-on: ubuntu-latest
    
    steps:
    - name: ‚úÖ Verificar permisos configurados
      run: |
        echo "üîê CONFIGURACI√ìN DE PERMISOS APLICADA"
        echo "===================================="
        echo "‚úÖ contents: write (lectura/escritura de archivos)"
        echo "‚úÖ issues: write (gesti√≥n de issues)"
        echo "‚úÖ pull-requests: write (gesti√≥n de PRs)"
        echo "‚úÖ actions: write (ejecuci√≥n de workflows)"
        echo "‚úÖ pages: write (despliegue en GitHub Pages)"
        echo "‚úÖ security-events: write (an√°lisis de seguridad)"
        echo "‚úÖ metadata: read (lectura de metadatos)"
        echo "‚úÖ packages: write (publicaci√≥n de paquetes)"
        echo ""
        echo "üöÄ Todos los workflows pueden ejecutarse con los permisos adecuados"
    
    - name: üìã Informaci√≥n de contexto
      run: |
        echo "üìä INFORMACI√ìN DEL CONTEXTO:"
        echo "=========================="
        echo "Repository: ${{ github.repository }}"
        echo "Actor: ${{ github.actor }}"
        echo "Event: ${{ github.event_name }}"
        echo "Ref: ${{ github.ref }}"
        echo "SHA: ${{ github.sha }}"
        echo ""
        echo "üîß Para habilitar GitHub Pages:"
        echo "1. Ve a Settings > Pages"
        echo "2. Selecciona 'Deploy from a branch'"
        echo "3. Selecciona 'main' branch y '/docs' folder (si existe)"
        echo "4. O usa GitHub Actions como fuente para despliegue autom√°tico"